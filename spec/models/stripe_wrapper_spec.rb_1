require 'spec_helper'

describe StripeWrapper::Charge do
  before do
    StripeWrapper.set_api_key
  end

  let(:token) {
	        Stripe::Token.create(
  			  :card => {
    			:number => card_number,
   			  :exp_month => 1,
    			:exp_year => 2015,
   			  :cvc => 111
  }
 ).id
}
context "with card info" do
  let(:carod_number) {'4242424242424242'}

  it "valid charge" do
   response =  StripeWrapper::Charge.create(amount: 500, card: token)
   response.should be_successful
   end
 end
end

